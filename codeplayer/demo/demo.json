{"id":"extract-method",
 "actions":[
     {"type":"setStep","options":{"step":1}},
     {"type":"wait","options":{"timeout":"500"}},
     {"type":"run","options":{"command":"goDocEnd"}},
     {"type":"type","options":{"text":"\n\nvoid printBanner() {\n  System.out.println(\"*****************************\");\n  System.out.println(\"****** Customer totals ******\");\n  System.out.println(\"*****************************\");\n}","delay":20}},{"type":"setStep","options":{"step":2}},
     {"type":"select","options":{"location":"printOwing","text":"  \/\/ print banner\n  System.out.println (\"*****************************\");\n  System.out.println (\"****** Customer totals ******\");\n  System.out.println (\"*****************************\");"}},
     {"type":"type","options":{"text":"←","delay":500}},
     {"type":"type","options":{"text":"  printBanner();"}},
     {"type":"setStep","options":{"step":3}},
     {"type":"select","options":{"text":"  \/\/ print details\n  System.out.println(\"name: \" + name);\n  System.out.println(\"amount: \" + |||outstanding|||);"}},
     {"type":"wait","options":{"timeout":"500"}},
     {"type":"run","options":{"command":"goDocEnd"}},
     {"type":"type","options":{"text":"\n\nvoid printDetails() {\n  System.out.println(\"name: \" + name);\n  System.out.println(\"amount: \" + outstanding);\n}","delay":20}},
     {"type":"select","options":{"location":"printOwing","text":"  \/\/ print details\n  System.out.println(\"name: \" + name);\n  System.out.println(\"amount: \" + outstanding);"}},
     {"type":"type","options":{"text":"←","delay":500}},
     {"type":"type","options":{"text":"  printDetails();"}},
     {"type":"moveTo","options":{"place":"text","text":"void printDetails(|||)","delay":0}},{"type":"type","options":{"text":"double outstanding"}},
     {"type":"moveTo","options":{"location":"printOwing","place":"text","text":"printDetails(|||)","delay":0}},{"type":"type","options":{"text":"outstanding"}},{"type":"setStep","options":{"step":4}},{"type":"select","options":{"location":"printOwing","text":"  Enumeration elements = orders.elements();\n  double outstanding = 0.0;"}},{"type":"select","options":{"location":"printOwing","text":"  \/\/ print owings\n  while (elements.hasMoreElements()) {\n    Order each = (Order) elements.nextElement();\n    outstanding += each.getAmount();\n  }","add":true}},{"type":"wait","options":{"timeout":"500"}},{"type":"run","options":{"command":"goDocEnd"}},{"type":"type","options":{"text":"\n\nvoid getOutstanding() {\n  Enumeration elements = orders.elements();\n  double outstanding = 0.0;\n  while (elements.hasMoreElements()) {\n    Order each = (Order) elements.nextElement();\n    outstanding += each.getAmount();\n  }\n}","delay":20}},{"type":"select","options":{"location":"printOwing","text":"  Enumeration elements = orders.elements();\n  double outstanding = 0.0;\n\n"}},{"type":"type","options":{"text":"←","delay":500}},{"type":"select","options":{"location":"printOwing","text":"\n  \/\/ print owings\n  while (elements.hasMoreElements()) {\n    Order each = (Order) elements.nextElement();\n    outstanding += each.getAmount();\n  }\n"}},{"type":"type","options":{"text":"←","delay":500}},{"type":"type","options":{"text":"  getOutstanding();"}},{"type":"select","options":{"location":"getOutstanding","text":"  Enumeration |||elements||| = orders.elements();\n  double |||outstanding||| = 0.0;"}},{"type":"select","options":{"location":"getOutstanding","text":"  double |||outstanding||| = 0.0;"}},{"type":"popover","options":{"text":"Следует проверить каждую из переменных.","attachment":"selection","locale":"ru","placement":"right","hide":"none"}},{"type":"popover","options":{"text":"Let's check each variable.","attachment":"selection","locale":"en","placement":"right","hide":"none"}},{"type":"popover","options":{"text":"Слід перевірити кожну з змінних.","attachment":"selection","locale":"uk","placement":"right","hide":"none"}},{"type":"select","options":{"location":"printOwing","text":"  printDetails(|||outstanding|||);","add":true}},{"type":"popover","options":{"text":"В нашем случае проблему создаёт переменная <code>outstanding<\/code>, которая потом используется в вызове <code>printDetails()<\/code>.","attachment":"selection","locale":"ru","placement":"right","hideOthers":true}},{"type":"popover","options":{"text":"Here, the problem is caused by the <code>outstanding<\/code> variable, which is then used in the <code>printDetails()<\/code> call.","attachment":"selection","locale":"en","placement":"right","hideOthers":true}},{"type":"popover","options":{"text":"В нашому випадку, проблему створює змінна <code>outstanding<\/code>, яка потім використовується у виклику <code>printDetails()<\/code>.","attachment":"selection","locale":"uk","placement":"right","hideOthers":true}},{"type":"popover","options":{"text":"Передадим её обратно в исходный метод.","attachment":"selection","locale":"ru","placement":"right"}},{"type":"popover","options":{"text":"Pass it back to the original method.","attachment":"selection","locale":"en","placement":"right"}},{"type":"popover","options":{"text":"Передамо її назад у вихідний метод.","attachment":"selection","locale":"uk","placement":"right"}},{"type":"select","options":{"place":"type","location":"GetOutstanding"}},{"type":"type","options":{"text":"double","beforeDelay":500}},{"type":"moveTo","options":{"location":"getOutstanding","place":"end","delay":0}},{"type":"type","options":{"text":"\n  return outstanding;"}},{"type":"moveTo","options":{"location":"printOwing","place":"text","text":"|||getOutstanding()","delay":0}},{"type":"type","options":{"text":"double outstanding = "}},{"type":"readyAndCompile","options":{"text":"Запускаем финальную компиляцию.","text2":"Отлично, все работает!","locale":"ru"}},{"type":"readyAndCompile","options":{"text":"Let's perform the final compilation and testing.","text2":"Wonderful, it's all working!","locale":"en"}},{"type":"readyAndCompile","options":{"text":"Запускаємо фінальну компіляцію.","text2":"Супер, все працює.","locale":"uk"}},{"type":"setStep","options":{"step":-1}},{"type":"popover","options":{"text":"На этом рефакторинг можно считать оконченным. В завершение, можете посмотреть разницу между старым и новым кодом.","attachment":"element","locale":"ru","selector":".codeplayer-roadmap","placement":"bottom"}},{"type":"popover","options":{"text":"The refactoring is complete! You can compare the old and new code if you like.","attachment":"element","locale":"en","selector":".codeplayer-roadmap","placement":"bottom"}},{"type":"popover","options":{"text":"На цьому рефакторинг можна вважати закінченим. На завершення, можете подивитися різницю між старим та новим кодом.","attachment":"element","locale":"uk","selector":".codeplayer-roadmap","placement":"bottom"}}],"lang":"java","code":"void printOwing() {\n  Enumeration elements = orders.elements();\n  double outstanding = 0.0;\n\n  \/\/ print banner\n  System.out.println (\"*****************************\");\n  System.out.println (\"****** Customer totals ******\");\n  System.out.println (\"*****************************\");\n\n  \/\/ print owings\n  while (elements.hasMoreElements()) {\n    Order each = (Order) elements.nextElement();\n    outstanding += each.getAmount();\n  }\n\n  \/\/ print details\n  System.out.println(\"name: \" + name);\n  System.out.println(\"amount: \" + outstanding);\n}","steps":[{"ru":"Создайте новый метод и назовите его так, чтобы название отражало суть того, что будет делать этот метод.","en":"Create a new method and name it in a way that makes its purpose self-evident.","uk":"Створіть новий метод. Потурбуйтеся, щоб його назва відбивала суть того, що робитиме цей метод."},{"ru":"Скопируйте беспокоящий вас фрагмент кода в новый метод. Удалите этот фрагмент из старого места и замените вызовом вашего нового метода.","en":"Copy the relevant code fragment to your new method. Delete the fragment from its old location and put a call for the new method there instead.","uk":"Скопіюйте фрагмент коду, що вас цікавить, в новий метод. Видаліть цей фрагмент із старого місця і замініть викликом вашого нового методу."},{"ru":"В новом методе создайте параметры для передачи значений из исходного метода.","en":"In the new method, create parameters for passing values from the original method.","uk":"У новому методі створіть параметри для передачі значень з вихідного методу."},{"ru":"Передайте результаты выполнения, и другие изменяемые данные, обратно в исходный метод.","en":"Pass the results and other changed data back to the original method.","uk":"Передайте результати виконання, та інші змінювані дані, назад в вихідний метод."}]}