{"id":"extract-method",
 "actions":[
     {"type":"setStep","options":{"step":1}},
     {"type":"wait","options":{"timeout":"500"}},
     {"type":"run","options":{"command":"goDocEnd"}},
     {"type":"type","options":{"text":"<div id=\"header\">\n<h1>Hello World</h1>\n<p>Whoa, we've just created a web page!</p>\n</div>","delay":20}},{"type":"setStep","options":{"step":2}},
     {"type":"select","options":{"location":"printOwing","text":"  \/\/ print banner\n  System.out.println (\"*****************************\");\n  System.out.println (\"****** Customer totals ******\");\n  System.out.println (\"*****************************\");"}},
     {"type":"type","options":{"text":"←","delay":500}},
     {"type":"type","options":{"text":"  printBanner();"}},
     {"type":"setStep","options":{"step":3}},
     {"type":"select","options":{"text":"  \/\/ print details\n  System.out.println(\"name: \" + name);\n  System.out.println(\"amount: \" + |||outstanding|||);"}},
     {"type":"wait","options":{"timeout":"500"}},
     {"type":"run","options":{"command":"goDocEnd"}},
     {"type":"type","options":{"text":"\n\nvoid printDetails() {\n  System.out.println(\"name: \" + name);\n  System.out.println(\"amount: \" + outstanding);\n}","delay":20}},
     {"type":"select","options":{"location":"printOwing","text":"  \/\/ print details\n  System.out.println(\"name: \" + name);\n  System.out.println(\"amount: \" + outstanding);"}},
     {"type":"type","options":{"text":"←","delay":500}},
     {"type":"type","options":{"text":"  printDetails();"}},
     {"type":"moveTo","options":{"place":"text","text":"void printDetails(|||)","delay":0}},{"type":"type","options":{"text":"double outstanding"}},
     {"type":"moveTo","options":{"location":"printOwing","place":"text","text":"printDetails(|||)","delay":0}},{"type":"type","options":{"text":"outstanding"}},{"type":"setStep","options":{"step":4}},{"type":"select","options":{"location":"printOwing","text":"  Enumeration elements = orders.elements();\n  double outstanding = 0.0;"}},{"type":"select","options":{"location":"printOwing","text":"  \/\/ print owings\n  while (elements.hasMoreElements()) {\n    Order each = (Order) elements.nextElement();\n    outstanding += each.getAmount();\n  }","add":true}},{"type":"wait","options":{"timeout":"500"}},{"type":"run","options":{"command":"goDocEnd"}},{"type":"type","options":{"text":"\n\nvoid getOutstanding() {\n  Enumeration elements = orders.elements();\n  double outstanding = 0.0;\n  while (elements.hasMoreElements()) {\n    Order each = (Order) elements.nextElement();\n    outstanding += each.getAmount();\n  }\n}","delay":20}},{"type":"select","options":{"location":"printOwing","text":"  Enumeration elements = orders.elements();\n  double outstanding = 0.0;\n\n"}},{"type":"type","options":{"text":"←","delay":500}},{"type":"select","options":{"location":"printOwing","text":"\n  \/\/ print owings\n  while (elements.hasMoreElements()) {\n    Order each = (Order) elements.nextElement();\n    outstanding += each.getAmount();\n  }\n"}},{"type":"type","options":{"text":"←","delay":500}},{"type":"type","options":{"text":"  getOutstanding();"}},{"type":"select","options":{"location":"getOutstanding","text":"  Enumeration |||elements||| = orders.elements();\n  double |||outstanding||| = 0.0;"}},{"type":"select","options":{"location":"getOutstanding","text":"  double |||outstanding||| = 0.0;"}},{"type":"select","options":{"location":"printOwing","text":"  printDetails(|||outstanding|||);","add":true}},{"type":"select","options":{"place":"type","location":"GetOutstanding"}},{"type":"type","options":{"text":"double","beforeDelay":500}},{"type":"moveTo","options":{"location":"getOutstanding","place":"end","delay":0}},{"type":"type","options":{"text":"\n  return outstanding;"}},{"type":"moveTo","options":{"location":"printOwing","place":"text","text":"|||getOutstanding()","delay":0}},{"type":"type","options":{"text":"double outstanding = "}},{"type":"setStep","options":{"step":-1}}],"lang":"html","code":"","steps":[{"en":"Create a new method and name it in a way that makes its purpose self-evident."},{"en":"Copy the relevant code fragment to your new method. Delete the fragment from its old location and put a call for the new method there instead."},{"en":"In the new method, create parameters for passing values from the original method."},{"en":"Pass the results and other changed data back to the original method."}]}